<!DOCTYPE html>
<html lang="en">
<head>
    <title>Graph based clustering algorithm</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="actualizar_outputs.js"></script>
    <script src="action.js"></script>
    <style>
        .btn-custom {
            background-color: #8ebbeb; 
            color: black;
        }
        .btn-custom:hover {
            background-color: #0056b3; 
        }
        .responsive-img {
            max-width: 100%; 
            height: auto; 
        }
    </style>
</head>
<body>
    <div class="container-fluid btn-custom text-black" style="height: 50px;"></div>
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-6">
                <h1>Aproximación basada en aprendizaje profundo</h1>
                <p> La red neuronal se preentrena utilizando la función de pérdida de log-likelihood de la distribución ZINB, comúnmente utilizada para modelar datos de Single Cell. Posteriormente, en la etapa de ajuste, se optimiza la representación latente mediante una pérdida basada en el Modelo de Mezcla Gaussiana. Durante este proceso, la red neuronal aprende los parámetros de cada gaussiana, que incluyen una probabilidad prior π, la media μ y la matriz de covarianza Σ para cada grupo. El resultado que se obtiene es una probabilidad de cada célula de pertenecer a cada uno de los grupos generados. Para la generación de los grupos es necesario conocer el número de clusters a generar.</p>                
                <input type="text" class="form-control mb-2" id = "n_clusters" placeholder="Número de clusters">
                <input
                    type="submit"
                    name="Submit"
                    id="cargar"
                    class="btn btn-custom btn-block mb-2"
                    value="Correr modelo"
                    style="width: 100%;"
                    onclick='CorrerModeloGMM(); this.disabled = true;'
                >                             
            </div>
            <div class="col-md-6">
                <img src="/Users/melissa/Documents/Documents/Tesis/Desarrollo/sc-KMSTC/Front/images/nnbased.png" alt="Flowers in Chania" class="responsive-img">
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <img src="/Users/melissa/Documents/Documents/Tesis/Desarrollo/sc-KMSTC/Back/upload_temp/results/gmm_probabilities.png" 
                id="ImagenDistrProbabilidadesGMM" 
                style= "visibility: hidden;"
                class="responsive-img" 
                alt="GMM distribuciones">
            </div>
            <div class="col-md-4">
                <img src="/Users/melissa/Documents/Documents/Tesis/Desarrollo/sc-KMSTC/Back/upload_temp/results/cluster_distributions.png" 
                id = "ImagenDistribucionesGMM" 
                style="visibility: hidden;"
                class="responsive-img" 
                alt="Cluster Distributions">
            </div>
            <div class="col-md-4">
                <img src="/Users/melissa/Documents/Documents/Tesis/Desarrollo/sc-KMSTC/Back/upload_temp/results/tsne_clusters.png" 
                id = "tSNEClustersGMM" 
                style="visibility: hidden;"
                class="responsive-img"
                alt="tSNE Clusters">
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md-12 text-center">
                <a href="/Users/melissa/Documents/Documents/Tesis/Desarrollo/sc-KMSTC/Back/upload_temp/results/gmm_clusters.csv" 
                   class="btn btn-custom mb-4"
                   id="descargarResultadosGMM"
                   download="clusters.csv"
                   style="visibility: hidden;">
                   Descargar Resultados
                </a>
            </div>
        </div>
    </div>
    </div>
</body>
</html>